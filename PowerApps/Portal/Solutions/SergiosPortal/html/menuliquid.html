


<div class="container">
    <div class="row">
        <button type="button" class="btn btn-secondary" style="width:24%" onclick="Javascript:document.location=document.URL.split('?')[0] + '?meal=Breakfast'">Breakfast</button>
        <button type="button" class="btn btn-secondary" style="width:24%" onclick="Javascript:document.location=document.URL.split('?')[0] + '?meal=Specials'">Specials</button>
        <button type="button" class="btn btn-secondary" style="width:24%" onclick="Javascript:document.location=document.URL.split('?')[0]">Main Menu</button>
        <button type="button" class="btn btn-secondary" style="width:24%" onclick="Javascript:document.location=document.URL.split('?')[0] + '?meal=Catering'">Catering Menu</button>
    </div>
</div>
<div class="container">
    <div class="row" style="padding-top:8px;">

        {% assign meal = request.params['meal'] %}  
        {% assign title = "Sergio's Menu " %}
        
        {% if meal %}
        <h3>{{ title }} - {{meal}}</h3>
        {% else %}
        <h3>{{ title }} </h3>
        {% endif %}

        {% if meal == "Specials" %}
            
        {% entityview logical_name: 'bjsmarts_meal' name:"Specials", page_size: 50 %}   
        Loaded entityview : {{ entityview.total_records }} total records.    

        {% assign groups = entityview.records | group_by: 'bjsmarts_sectiontype.label' %}

        {% for group in groups %}
        <h4>{{ group.key }}</h4>      
        {% assign meals = entityview.records | where: "bjsmarts_sectiontype.label", group.key | order_by: "bjsmarts_order" %}
        
        {% for item in meals %}
        <div class="log-lg-4">
            <div class="panel panel-default">
                <div class="panel-heading">{{}}</div>
                <div class="panel-body" style="border:1px solid #CCCCCC;height:90px">                    
                    <div>{{item.bjsmarts_name}}</div>
                    <div>{{item.bjsmarts_description}}</div>
                    <div>Price: ${{item.bjsmarts_price | round:2}}</div>
                    <div style="clear:left"></div> 
                </div>
            </div>
        </div>        
        {% endfor %}
        {% endfor %}
        {% endentityview %}
        {% endif %}

        {% if meal == "Breakfast" %}
            
        {% entityview logical_name: 'bjsmarts_meal' name:"Breakfast Meals", page_size: 50 %}   
        Loaded entityview : {{ entityview.total_records }} total records.    

        {% assign groups = entityview.records | group_by: 'bjsmarts_sectiontype.label' %}

        {% for group in groups %}
        <h4>{{ group.key }}</h4>      
        {% assign meals = entityview.records | where: "bjsmarts_sectiontype.label", group.key | order_by: "bjsmarts_order" %}
        
        {% for item in meals %}
        <div class="log-lg-4">
            <div class="panel panel-default">
                <div class="panel-heading">{{}}</div>
                <div class="panel-body" style="border:1px solid #CCCCCC;height:90px">                    
                    <div>{{item.bjsmarts_name}}</div>
                    <div>{{item.bjsmarts_description}}</div>
                    <div>Price: ${{item.bjsmarts_price | round:2}}</div>
                    <div style="clear:left"></div> 
                </div>
            </div>
        </div>        
        {% endfor %}
        {% endfor %}
        {% endentityview %}
        {% endif %}             
        
        {% if meal == Null %}
            
        {% entityview logical_name: 'bjsmarts_meal' name:"Main Menu", page_size: 50 %}   
        Loaded entityview : {{ entityview.total_records }} total records.    

        {% assign groups = entityview.records | group_by: 'bjsmarts_sectiontype.label' %}

        {% for group in groups %}
        <h4>{{ group.key }}</h4>      
        {% assign meals = entityview.records | where: "bjsmarts_sectiontype.label", group.key | order_by: "bjsmarts_order" %}
        
        {% for item in meals %}
        <div class="log-lg-4">
            <div class="panel panel-default">
                <div class="panel-heading">{{}}</div>
                <div class="panel-body" style="border:1px solid #CCCCCC;height:90px">                    
                    <div>{{item.bjsmarts_name}}</div>
                    <div>{{item.bjsmarts_description}}</div>
                    <div>Price: ${{item.bjsmarts_price | round:2}}</div>
                    <div style="clear:left"></div> 
                </div>
            </div>
        </div>        
        {% endfor %}
        {% endfor %}
        {% endentityview %}
        {% endif %}  
    </div>
</div>